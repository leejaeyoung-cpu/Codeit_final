# ğŸš€ ë°°ì¹˜ íŒŒì¼ ì‚¬ìš© ê°€ì´ë“œ

AdGen AI í”„ë¡œì íŠ¸ë¥¼ ì‰½ê²Œ ì‹¤í–‰í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë°°ì¹˜ íŒŒì¼ ëª¨ìŒì…ë‹ˆë‹¤.

## ğŸ“‹ ë°°ì¹˜ íŒŒì¼ ëª©ë¡

### 1. `setup_env.bat` - í™˜ê²½ ì„¤ì • (ìµœì´ˆ 1íšŒ)

**ìš©ë„**: ê°œë°œ í™˜ê²½ ì´ˆê¸° ì„¤ì •

**ì‹¤í–‰ ë‚´ìš©**:
- Python ë²„ì „ í™•ì¸
- ê°€ìƒí™˜ê²½ ìƒì„± (`.venv`)
- pip ì—…ê·¸ë ˆì´ë“œ
- íŒ¨í‚¤ì§€ ì„¤ì¹˜ (`requirements.txt`)
- `.env` íŒŒì¼ ìƒì„±

**ì‚¬ìš©ë²•**:
```bash
setup_env.bat
```

**ì‹¤í–‰ ì‹œì **: í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ í´ë¡ í•œ í›„ **ê°€ì¥ ë¨¼ì €** ì‹¤í–‰

---

### 2. `start_server.bat` - ì„œë²„ ì‹œì‘

**ìš©ë„**: FastAPI ê°œë°œ ì„œë²„ ì‹¤í–‰

**ì‹¤í–‰ ë‚´ìš©**:
- ê°€ìƒí™˜ê²½ í™œì„±í™”
- í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- Uvicorn ì„œë²„ ì‹œì‘ (í¬íŠ¸ 8000, ìë™ ì¬ì‹œì‘)

**ì‚¬ìš©ë²•**:
```bash
start_server.bat
```

**ì ‘ì† ì£¼ì†Œ**:
- ë©”ì¸: http://127.0.0.1:8000
- Swagger UI: http://127.0.0.1:8000/docs

**ì¤‘ì§€ ë°©ë²•**: `Ctrl + C`

---

### 3. `test_api.bat` - API í…ŒìŠ¤íŠ¸

**ìš©ë„**: ë°°ê²½ ì œê±° API ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

**ì‹¤í–‰ ë‚´ìš©**:
1. Health Check
2. ì´ë¯¸ì§€ ì •ë³´ ì¡°íšŒ
3. ë°°ê²½ ì œê±° í…ŒìŠ¤íŠ¸ (ê²°ê³¼: `test_output.png`)

**ì‚¬ìš©ë²•**:
```bash
# 1. ì„œë²„ ì‹¤í–‰ (ë‹¤ë¥¸ í„°ë¯¸ë„)
start_server.bat

# 2. í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ì¤€ë¹„
# test_images/sample.jpg íŒŒì¼ í•„ìš”

# 3. API í…ŒìŠ¤íŠ¸
test_api.bat
```

**í•„ìš” ì¡°ê±´**:
- ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨
- `test_images/sample.jpg` íŒŒì¼ ì¡´ì¬

---

### 4. `run_tests.bat` - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**ìš©ë„**: pytest í…ŒìŠ¤íŠ¸ ì‹¤í–‰

**ì‹¤í–‰ ë‚´ìš©**:
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- ì»¤ë²„ë¦¬ì§€ í…ŒìŠ¤íŠ¸
- HTML ë¦¬í¬íŠ¸ ìƒì„± (`htmlcov/index.html`)

**ì‚¬ìš©ë²•**:
```bash
run_tests.bat
```

---

### 5. `download_model.bat` - ëª¨ë¸ ë‹¤ìš´ë¡œë“œ

**ìš©ë„**: RMBG-2.0 ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (1.7GB)

**ì‹¤í–‰ ë‚´ìš©**:
- Hugging Faceì—ì„œ RMBG-2.0 ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
- ìºì‹œ ë””ë ‰í† ë¦¬ì— ì €ì¥

**ì‚¬ìš©ë²•**:
```bash
download_model.bat
```

**ë‹¤ìš´ë¡œë“œ ìœ„ì¹˜**: `%USERPROFILE%\.cache\huggingface\hub`

**ì£¼ì˜ì‚¬í•­**:
- ì¸í„°ë„· ì—°ê²° í•„ìš”
- ì•½ 1.7GB ìš©ëŸ‰
- ë‹¤ìš´ë¡œë“œ ì‹œê°„: ì•½ 5-10ë¶„ (ì¸í„°ë„· ì†ë„ì— ë”°ë¼)

---

### 6. `docker_build.bat` - Docker ë¹Œë“œ ë° ì‹¤í–‰

**ìš©ë„**: Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰

**ì‹¤í–‰ ë‚´ìš©**:
1. Docker í™•ì¸
2. ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì •ë¦¬
3. ì´ë¯¸ì§€ ë¹Œë“œ
4. ì»¨í…Œì´ë„ˆ ì‹¤í–‰

**ì‚¬ìš©ë²•**:
```bash
docker_build.bat
```

**í•„ìš” ì¡°ê±´**:
- Docker Desktop ì„¤ì¹˜ ë° ì‹¤í–‰

**ì»¨í…Œì´ë„ˆ ê´€ë¦¬**:
```bash
# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker-compose down
```

---

## ğŸ”„ ì‹¤í–‰ ìˆœì„œ (ìµœì´ˆ ì„¤ì •)

### Step 1: í™˜ê²½ ì„¤ì •
```bash
setup_env.bat
```

### Step 2: .env íŒŒì¼ ìˆ˜ì •
```bash
# .env íŒŒì¼ì„ ì—´ì–´ í•„ìš”í•œ ì„¤ì • ì…ë ¥
notepad .env
```

### Step 3 (ì„ íƒ): ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
```bash
# RMBG-2.0ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìš´ë¡œë“œ
download_model.bat
```

### Step 4: ì„œë²„ ì‹¤í–‰
```bash
start_server.bat
```

### Step 5: API í…ŒìŠ¤íŠ¸
```bash
# ìƒˆ í„°ë¯¸ë„ ì—´ê¸°
test_api.bat
```

---

## âš™ï¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ì¼ë°˜ì ì¸ ê°œë°œ ì‹œì‘
```bash
# 1. ì„œë²„ ì‹œì‘
start_server.bat

# 2. ì½”ë“œ ìˆ˜ì •

# 3. í…ŒìŠ¤íŠ¸ (ìƒˆ í„°ë¯¸ë„)
run_tests.bat
```

### Dockerë¡œ ì‹¤í–‰
```bash
# ë¹Œë“œ ë° ì‹¤í–‰
docker_build.bat

# ë¡œê·¸ í™•ì¸
docker-compose logs -f api
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ: "ê°€ìƒí™˜ê²½ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"

**í•´ê²°**:
```bash
setup_env.bat
```

### ë¬¸ì œ: "íŒ¨í‚¤ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"

**í•´ê²°**:
```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
.venv\Scripts\activate.bat

# íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜
pip install -r requirements.txt
```

### ë¬¸ì œ: "í¬íŠ¸ 8000ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘"

**í•´ê²°**:
```bash
# í”„ë¡œì„¸ìŠ¤ í™•ì¸
netstat -ano | findstr :8000

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
taskkill /PID [í”„ë¡œì„¸ìŠ¤ID] /F
```

### ë¬¸ì œ: Docker ë¹Œë“œ ì‹¤íŒ¨ (ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±)

**í•´ê²°**:
```bash
# Docker ì •ë¦¬
docker system prune -a
```

---

## ğŸ“ ì°¸ê³  ì‚¬í•­

### í™˜ê²½ ë³€ìˆ˜ (.env)

```bash
# í•„ìˆ˜ ì„¤ì •
BG_REMOVAL_MODEL=rmbg-2.0  # ë˜ëŠ” u2net
BG_REMOVAL_DEVICE=cuda     # ë˜ëŠ” cpu
BG_REMOVAL_FALLBACK=true

# ì„ íƒ ì„¤ì •
HF_TOKEN=your_token_here   # RMBG-2.0 API ì‚¬ìš© ì‹œ
```

### Python ë²„ì „
- **í•„ìˆ˜**: Python 3.11 ì´ìƒ

### GPU ì‚¬ìš©
- **RMBG-2.0**: CUDA ì§€ì› GPU ê¶Œì¥ (2-4GB VRAM)
- **U2-Net**: GPU ì„ íƒ ì‚¬í•­

---

## ğŸ†˜ ë„ì›€ë§

- **GitHub**: [leejaeyoung-cpu/Codeit_final](https://github.com/leejaeyoung-cpu/Codeit_final)
- **ë¬¸ì„œ**: `docs/` í´ë” ì°¸ì¡°
- **ì´ìŠˆ**: GitHub Issues í™œìš©
